(this["webpackJsonpreact-notes-app"]=this["webpackJsonpreact-notes-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(8),r=n.n(o),l=n(5),c=n.n(l),i=n(6),u=n(1),p=n(2),d=n(4),m=n(3),h=(n(15),n(16),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return s.a.createElement("h1",{id:"header"},"Note App")}}]),n}(s.a.Component)),g=(n(17),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=s.a.createElement("button",{className:"add-button",onClick:this.props.handleClick},"Add a note +");return s.a.createElement("span",{className:"main"},e)}}]),n}(s.a.Component)),b=(n(18),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.notesList.map((function(t,n){return s.a.createElement("div",{id:"display-"+n,className:"display"},s.a.createElement("p",{id:"note-"+n},t),s.a.createElement("button",{type:"button",className:"edit-button",onClick:function(){return e.props.edit(n)}}," Edit "),s.a.createElement("button",{type:"button",className:"delete-button",onClick:function(){return e.props.delete(n)}}," Delete "),s.a.createElement("button",{type:"button",id:"save-"+n,className:"save-button",onClick:function(){return e.props.save(n)}},"Save "))}));return s.a.createElement("div",null,t)}}]),n}(s.a.Component)),E=(n(19),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=s.a.createElement("input",{type:"text",placeholder:"Enter a note",id:"inputNote"}),t=s.a.createElement("button",{type:"button",className:"create-note-button",onClick:this.props.handleClick}," Create Note ");return this.props.show?s.a.createElement("span",{className:"input-box"},e,t):null}}]),n}(s.a.Component)),f=(n(20),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=s.a.createElement("button",{type:"button",className:"login-button",onClick:this.props.login}," Login to save your notes! ");return this.props.loggedIn?null:s.a.createElement("span",{className:"login"},e)}}]),n}(s.a.Component)),v=(n(21),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e;this.props.isSignup?("http://localhost:8080/create",e="CREATE ACCOUNT"):("http://localhost:8080/auth",e="LOGIN");var t=s.a.createElement("input",{type:"text",id:"name",name:"name",placeholder:"Enter your name"}),n=s.a.createElement("input",{type:"text",name:"username",placeholder:"ENTER USERNAME"}),a=s.a.createElement("input",{type:"password",name:"password",placeholder:"ENTER PASSWORD"}),o=s.a.createElement("button",{type:"submit",className:"login-submit",onClick:this.props.a},e),r=s.a.createElement("button",{type:"text",className:"close-button",onClick:this.props.handlePopup}),l=s.a.createElement("button",{type:"button",className:"login-submit",onClick:this.props.signup},"Don't have an account? Sign up!");return this.props.showPopup?s.a.createElement("div",{className:"login-popup"},s.a.createElement("div",null,t,s.a.createElement("br",null),s.a.createElement("br",null),n,s.a.createElement("br",null),s.a.createElement("br",null),a,s.a.createElement("br",null),s.a.createElement("br",null),o,s.a.createElement("br",null)," ",s.a.createElement("br",null),l,r)):null}}]),n}(s.a.Component)),y=(n(22),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return this.props.loggedIn?s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{title:"Account Settings",className:"user-settings"},s.a.createElement("div",{className:"dropdown-content"},s.a.createElement("button",{type:"button",onClick:this.props.logout}," Logout"),s.a.createElement("button",{type:"button"},"Edit Profile")))):null}}]),n}(s.a.Component)),O=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).createUserRequest=Object(i.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.URL+"/create",e.next=3,fetch(t,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:document.getElementsByName("name")[0].value,username:document.getElementsByName("username")[0].value,password:document.getElementsByName("password")[0].value})});case 3:return n=e.sent,e.next=6,n.text();case 6:s=e.sent,console.log(s),a.setState({showPopup:!1});case 9:case"end":return e.stop()}}),e)}))),a.loginRequest=Object(i.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.signup){e.next=13;break}return console.log("login request"),t=a.URL+"/auth",e.next=5,fetch(t,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:document.getElementsByName("username")[0].value,password:document.getElementsByName("password")[0].value})});case 5:return n=e.sent,e.next=8,n.text();case 8:s=e.sent,console.log(s),a.getUsername(),e.next=14;break;case 13:a.createUserRequest();case 14:case"end":return e.stop()}}),e)}))),a.signup=function(){document.getElementsByClassName("login-submit")[1].style.display="none",document.getElementById("name").style.display="initial",a.setState({signup:!0})},a.handleAdd=function(){a.setState({addNoteClicked:!0,showInputBox:!0}),console.log("button clicked")},a.handleCreate=function(e){var t=document.getElementById("inputNote");if(""===t.value)return alert("Note can't be empty"),void e.preventDefault();var n=t.value;a.state.loggedIn?a.setState({notesList:a.state.notesList.concat(n),showInputBox:!1},a.updateDatabase):a.setState({notesList:a.state.notesList.concat(n),showInputBox:!1})},a.getUsername=Object(i.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.URL+"/auth",e.next=3,fetch(t,{method:"GET",headers:{"Content-Type":"text/plain",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.text();case 6:s=e.sent,console.log(n.status),console.log(s),(s=JSON.parse(s)).loggedIn?a.setState({loggedIn:s.loggedIn,username:s.username,userID:s.userID,showPopup:!1}):alert("Wrong Username/Password"),a.getNotes();case 12:case"end":return e.stop()}}),e)}))),a.updateDatabase=Object(i.a)(c.a.mark((function e(){var t,n,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.userID,n="".concat(a.URL,"/api/notes/").concat(t),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:a.state.notesList})});case 4:return s=e.sent,e.next=7,s.text();case 7:o=e.sent,console.log(o);case 9:case"end":return e.stop()}}),e)}))),a.handleEdit=function(e){var t="note-"+e,n="save-"+e;document.getElementById(t).contentEditable="true",document.getElementById(n).style.display="initial"},a.handleDelete=function(e){var t="display-"+e;console.log(t);var n=a.state.notesList;n.splice(e,1),a.state.loggedIn?a.setState({notesList:n},a.updateDatabase):a.setState({notesList:n})},a.saveAfterEdit=function(e){var t="note-"+e,n="save-"+e;document.getElementById(t).contentEditable="false",document.getElementById(n).style.display="none";var s=a.state.notesList,o=document.getElementById(t).textContent;console.log(t),console.log(o),s.splice(e,1,o),console.log("after edit:"+s.toString()),a.state.loggedIn?a.setState({notesList:s},a.updateDatabase):a.setState({notesList:s})},a.handleLogin=function(){console.log("login clicked"),a.setState({showPopup:!a.state.showPopup,signup:!1})},a.handleLogout=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.URL+"/logout",e.next=3,fetch(t,{method:"POST"});case 3:200===e.sent.status&&a.setState({loggedIn:!1,username:null,userID:null,notesList:[]});case 5:case"end":return e.stop()}}),e)}))),a.getNotes=Object(i.a)(c.a.mark((function e(){var t,n,s,o,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("func"),t=a.state.userID,n="".concat(a.URL,"/notes/").concat(t),e.next=5,fetch(n,{method:"GET",headers:{"Content-Type":"text/plain",Accept:"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:for(o=e.sent,r=[],l=0;l<o.length;l++)r.push(o[l].note);a.setState({notesList:r});case 12:case"end":return e.stop()}}),e)}))),a.URL="https://reactnote-app.herokuapp.com",console.log(a.URL),a.state={notesList:[],addNoteClicked:!1,showInputBox:!1,showPopup:!1,signup:!1,loggedIn:!1,username:null,userID:null},a}return Object(p.a)(n,[{key:"render",value:function(){return this.state.addNoteClicked?s.a.createElement("div",null,s.a.createElement(h,null),s.a.createElement(v,{showPopup:this.state.showPopup,handlePopup:this.handleLogin,signup:this.signup,isSignup:this.state.signup,a:this.loginRequest}),s.a.createElement(f,{login:this.handleLogin,loggedIn:this.state.loggedIn,username:this.state.username}),s.a.createElement(g,{handleClick:this.handleAdd}),s.a.createElement(E,{handleClick:this.handleCreate,show:this.state.showInputBox}),s.a.createElement(b,{notesList:this.state.notesList,edit:this.handleEdit,delete:this.handleDelete,save:this.saveAfterEdit}),s.a.createElement(y,{loggedIn:this.state.loggedIn,logout:this.handleLogout})):s.a.createElement("div",null,s.a.createElement(h,null),s.a.createElement(v,{showPopup:this.state.showPopup,handlePopup:this.handleLogin,signup:this.signup,isSignup:this.state.signup,a:this.loginRequest}),s.a.createElement(f,{login:this.handleLogin,loggedIn:this.state.loggedIn,username:this.state.username}),s.a.createElement(g,{handleClick:this.handleAdd}),s.a.createElement(b,{notesList:this.state.notesList,edit:this.handleEdit,delete:this.handleDelete,save:this.saveAfterEdit}),s.a.createElement(y,{loggedIn:this.state.loggedIn,logout:this.handleLogout}))}}]),n}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);